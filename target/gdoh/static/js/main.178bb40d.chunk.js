(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a(236)},113:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},178:function(e,t,a){},223:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(29),o=a.n(r),l=(a(113),a(69)),s=a(21),c=a.n(s),u=a(25),h=a(15),m=a(16),p=a(18),d=a(17),g=a(19),v=a(41),E=a(92),f=a(246),b=a(105),S=a(104),y=a(63),O=a(93),j=a(45),C=(a(119),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Home"},i.a.createElement("div",{className:"lander"},i.a.createElement("h1",null,"GDoH"),i.a.createElement("p",null,"A simple health care information app")))}}]),t}(n.Component)),w=(a(120),function(){return i.a.createElement("div",{className:"NotFound"},i.a.createElement("h3",null,"Sorry, page not found!"))}),I=a(95),k=a(239),L=a(240),x=a(241),N=a(248),P=a(54),A=a(238),H=a(100),D=(a(121),function(e){var t=e.isLoading,a=e.text,n=e.loadingText,r=e.className,o=void 0===r?"":r,l=e.disabled,s=void 0!==l&&l,c=Object(P.a)(e,["isLoading","text","loadingText","className","disabled"]);return i.a.createElement(A.a,Object.assign({className:"LoaderButton ".concat(o),disabled:s||t},c),t&&i.a.createElement(H.a,{glyph:"refresh",className:"spinning"}),t?n:a)}),T=a(50),R=a.n(T),F=(a(154),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({isLoading:!0});try{sessionStorage.setItem("loggedIn",!0),a.props.userHasAuthenticated(!0),a.props.history.push("/maintabview")}catch(n){alert(n.message),a.setState({isLoading:!1})}case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return i.a.createElement("div",{className:"Login"},i.a.createElement(k.a,{className:"center",src:R.a,responsive:!0}),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(L.a,{controlId:"email",bsSize:"large"},i.a.createElement(x.a,null,"Email"),i.a.createElement(N.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),i.a.createElement(L.a,{controlId:"password",bsSize:"large"},i.a.createElement(x.a,null,"Password"),i.a.createElement(N.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),i.a.createElement(D,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Login",loadingText:"Logging in\u2026"})))}}]),t}(n.Component)),K=a(242),M=a(51),z=a.n(M),B=(a(155),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{console.log(a.state.hospital),a.props.history.push({pathname:"/patientsearchresults",state:{hospital:a.state.hospital,searchtype:a.getSearchType(),value:a.state.value}})}catch(n){alert(n.message),a.setState({isLoading:!1})}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeList=function(e){a.setState({hospital:a.inputRef.value})},a.onSearchChangeSetPatient=function(e){a.setState({patientIdchecked:!0})},a.onSearchChangeSetID=function(e){a.setState({patientIdchecked:!1})},a.state={isLoading:!1,hospital:"All",system:"",patientIdchecked:!0,value:void 0},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return!0}},{key:"getSearchType",value:function(){return this.state.patientIdchecked?"patient":"Id"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"MainSearch"},i.a.createElement(k.a,{className:"center",src:z.a,responsive:!0}),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(L.a,{controlId:"formControlsSelect1",bsSize:"large"},i.a.createElement(x.a,null,"Systems"),i.a.createElement(N.a,{componentClass:"select",placeholder:"HIS",inputRef:function(e){},onChange:this.handleChange},i.a.createElement("option",{value:"HIS"},"HIS"),i.a.createElement("option",{value:"Pharmacy"},"Pharmacy"),i.a.createElement("option",{value:"HPRS"},"HPRS"),i.a.createElement("option",{value:"SANBS"},"SANBS"),i.a.createElement("option",{value:"NHLS"},"NHLS"),i.a.createElement("option",{value:"PACS"},"PACS"),i.a.createElement("option",{value:"Mental Health"},"Mental Health"))),i.a.createElement(L.a,{controlId:"formControlsSelect2",bsSize:"large"},i.a.createElement(x.a,null,"Hospital"),i.a.createElement(N.a,{componentClass:"select",placeholder:"All",inputRef:function(t){e.inputRef=t},onChange:this.onChangeList},i.a.createElement("option",{value:"All"},"All"),i.a.createElement("option",{value:"Charlotte Maxeke"},"Charlotte Maxeke"),i.a.createElement("option",{value:"Cullinan"},"Cullinan"),i.a.createElement("option",{value:"Edenvale"},"Edenvale"),i.a.createElement("option",{value:"Heidelberg"},"Heidelberg"),i.a.createElement("option",{value:"Helen Joseph"},"Helen Joseph"),i.a.createElement("option",{value:"Jubilee"},"Jubilee"),i.a.createElement("option",{value:"Fare East Rand"},"Fare East Rand"),i.a.createElement("option",{value:"Kalafong"},"Kalafong"),i.a.createElement("option",{value:"Kopanong"},"Kopanong"),i.a.createElement("option",{value:"Leratong"},"Leratong"),i.a.createElement("option",{value:"Medunsa"},"Medunsa"),i.a.createElement("option",{value:"Odi"},"Odi"),i.a.createElement("option",{value:"Pholosong"},"Pholosong"),i.a.createElement("option",{value:"Pretoria West"},"Pretoria West"),i.a.createElement("option",{value:"Rahima Moosa"},"Rahima Moosa"),i.a.createElement("option",{value:"Sizwe"},"Sizwe"),i.a.createElement("option",{value:"South Rand"},"South Rand"),i.a.createElement("option",{value:"Sterkfontein"},"Sterkfontein"),i.a.createElement("option",{value:"Tara"},"Tara"),i.a.createElement("option",{value:"Tambo"},"Tambo"),i.a.createElement("option",{value:"Tembisa"},"Tembisa"),i.a.createElement("option",{value:"Tshwane"},"Tshwane"),i.a.createElement("option",{value:"Tshwane Rehab"},"Tshwane Rehab"),i.a.createElement("option",{value:"Wits Oral"},"Wits Oral"),i.a.createElement("option",{value:"Mamelodi"},"Mamelodi"),i.a.createElement("option",{value:"Yusuf Dadoo"},"Yusuf Dadoo"))),i.a.createElement(L.a,null,i.a.createElement(K.a,{name:"radioGroup",inline:!0,defaultChecked:!0,onClick:this.onSearchChangeSetPatient.bind(this)},"Patient Identifier")," ",i.a.createElement(K.a,{name:"radioGroup",inline:!0,onClick:this.onSearchChangeSetID.bind(this)},"Identity Number")," "),this.state.patientIdchecked?i.a.createElement(L.a,{controlId:"patientId",bsSize:"large"},i.a.createElement(x.a,null,"Patient ID"),i.a.createElement(N.a,{autoFocus:!0,type:"text",value:this.state.value,onChange:this.handleChange.bind(this)})):i.a.createElement(L.a,{controlId:"Id",bsSize:"large"},i.a.createElement(x.a,null,"Id Number"),i.a.createElement(N.a,{value:this.state.value,onChange:this.handleChange.bind(this),type:"number"})),i.a.createElement(D,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"find",loadingText:"searching\u2026"})))}}]),t}(n.Component)),G=Object(E.a)(B),J=(a(156),a(107)),W=a(244),V=a(245),$=a(101),Q=a.n($),Y=(a(178),a(102)),q=a.n(Y),U=a(243),X=a(247),Z=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(U.a,{defaultActiveKey:1,id:"maintabview"},i.a.createElement(X.a,{eventKey:1,title:"Demographics"},"Demographics"),i.a.createElement(X.a,{eventKey:2,title:"Contact details"},"contract details"),i.a.createElement(X.a,{eventKey:3,title:"Next of Kin"},"next of kin data"))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={data:[],isLoading:!1},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,a,n,i,r,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),i="",t=this.props.datalist.searchtype,a=this.props.datalist.value,n=this.props.datalist.hospital,i="All"===n?"patient"===t?"http://10.32.60.74:7004/gdoh-patient-profile-service/PSQueryByIdentifierOnlyRS/patientidentifier?Identifier=".concat(a):"http://10.32.60.74:7004/gdoh-patient-profile-service/PSQueryByIDNumberOnlyRS/patientidentifier?ID=".concat(a):"patient"===t?"http://10.32.60.74:7004/gdoh-patient-profile-service/PatientIdentifierRS/patientidentifier?Identifier=".concat(a,"&Hospital=").concat(n):"http://10.32.60.74:7004/gdoh-patient-profile-service/PatientIdRS/patientidhospital?ID=".concat(a,"&Hospital=").concat(n),e.prev=6,e.next=9,fetch(i,{mode:"cors",method:"GET",headers:{accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Connection:"Keep-Alive"}});case 9:return r=e.sent,e.next=12,r.json();case 12:o=e.sent,200===r.status?null!=o.PatientProfile?(l=o.PatientProfile.map(function(e){return{id:e.Identifier.$,ID:e.ID.$,FirstName:e.FirstName,LastName:e.LastName,Gender:e.Gender,BirthDate:e.BirthDate,Nationality:e.Nationality,hospital:e["@hospital"],LastVisitDate:e.LastVisitDate,LastVisitClassification:e.LastVisitClassification}}),this.setState({data:l,isLoading:!1})):this.setState({isLoading:!1}):(this.setState({isLoading:!1}),alert("something went wrong, please try again")),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),this.setState({isLoading:!1}),alert("something went wrong, please try again");case 20:case"end":return e.stop()}},e,this,[[6,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"maindiv"},this.state.isLoading?i.a.createElement(Q.a,{type:"Circles",color:"#00BFFF",height:"200",width:"200",className:"center"}):i.a.createElement(J.a,null,i.a.createElement(W.a,{className:"show-grid"},i.a.createElement(V.a,{xs:6,md:4},i.a.createElement(q.a,{striped:!0,hover:!0,keyField:"Gender",data:this.state.data,columns:[{dataField:"id",text:"Patient ID"},{dataField:"ID",text:"ID"},{dataField:"hospital",text:"hospital"}]})),i.a.createElement(V.a,{xs:12,md:8},i.a.createElement("div",{style:{marginTop:50}},i.a.createElement(Z,null))))))}}]),t}(n.Component),ee=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"patients"},i.a.createElement(k.a,{className:"imagesize center",src:z.a,responsive:!0}),i.a.createElement("h2",null,"Search Results"),i.a.createElement(_,{datalist:this.props.location.state}))}}]),t}(n.Component),te=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(U.a,{defaultActiveKey:1,id:"maintabview"},i.a.createElement(X.a,{eventKey:1,title:"Phase 1"},i.a.createElement(G,null)),i.a.createElement(X.a,{eventKey:2,title:"Phase 2",disabled:!0},"Phase 2"),i.a.createElement(X.a,{eventKey:3,title:"Phase 3",disabled:!0},"Phase 3"))}}]),t}(n.Component),ae=function(e){var t=e.component,a=e.props,n=Object(P.a)(e,["component","props"]);return i.a.createElement(j.a,Object.assign({},n,{render:function(e){return i.a.createElement(t,Object.assign({},e,a))}}))},ne=function(e){var t=e.childProps;return i.a.createElement(O.a,null,i.a.createElement(ae,{path:"/",exact:!0,component:C,props:t}),i.a.createElement(ae,{path:"/login",exact:!0,component:F,props:t}),i.a.createElement(ae,{path:"/mainsearch",exact:!0,component:G,props:t}),i.a.createElement(ae,{path:"/patientsearchresults",exact:!0,component:ee,props:t}),i.a.createElement(ae,{path:"/maintabview",exact:!0,component:te,props:t}),i.a.createElement(j.a,{component:w}))},ie=(a(223),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(e){a.userHasAuthenticated(!1),a.props.history.push("/login"),sessionStorage.clear()},a.state={isAuthenticated:!1,isAuthenticating:!0},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{"true"===sessionStorage.getItem("loggedIn")?this.userHasAuthenticated(!0):this.userHasAuthenticated(!1)}catch(t){"No current user"!==t&&alert(t)}this.setState({isAuthenticating:!1});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated};return!this.state.isAuthenticating&&i.a.createElement("div",{className:"App container"},i.a.createElement(f.a,{fluid:!0,collapseOnSelect:!0},i.a.createElement(f.a.Header,null,i.a.createElement(f.a.Brand,null,i.a.createElement(v.a,{to:"/"},i.a.createElement("img",{src:R.a,alt:"",style:{width:100,marginTop:-7}}),"Gauteng Department of Health")),i.a.createElement(f.a.Toggle,null)),i.a.createElement(f.a.Collapse,null,i.a.createElement(b.a,{pullRight:!0},this.state.isAuthenticated?i.a.createElement(S.a,{onClick:this.handleLogout},"Logout"):i.a.createElement(n.Fragment,null,i.a.createElement(y.LinkContainer,{to:"/signup"},i.a.createElement(S.a,null,"Signup")),i.a.createElement(y.LinkContainer,{to:"/login"},i.a.createElement(S.a,null,"Login")))))),i.a.createElement(ne,{childProps:e}))}}]),t}(n.Component)),re=Object(E.a)(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(l.a,{basename:"/gdoh"},i.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,a){e.exports=a.p+"static/media/GPG-Logo.278d9f24.png"},51:function(e,t,a){e.exports=a.p+"static/media/find.8b689b8f.png"}},[[108,1,2]]]);
//# sourceMappingURL=main.178bb40d.chunk.js.map