(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(239)},115:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},180:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(30),r=a.n(i),s=(a(115),a(74)),o=a(22),c=a.n(o),d=a(27),u=a(12),m=a(13),p=a(15),h=a(14),E=a(16),f=a(43),g=a(96),v=a(250),b=a(107),S=a(106),y=a(68),O=a(97),C=a(48),L=(a(121),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Home"},l.a.createElement("div",{className:"lander"},l.a.createElement("h1",null,"GDoH"),l.a.createElement("p",null,"A simple health care information app")))}}]),t}(n.Component)),N=(a(122),function(){return l.a.createElement("div",{className:"NotFound"},l.a.createElement("h3",null,"Sorry, page not found!"))}),j=a(99),A=a(242),R=a(243),D=a(244),I=a(251),k=a(59),x=a(241),w=a(102),P=(a(123),function(e){var t=e.isLoading,a=e.text,n=e.loadingText,i=e.className,r=void 0===i?"":i,s=e.disabled,o=void 0!==s&&s,c=Object(k.a)(e,["isLoading","text","loadingText","className","disabled"]);return l.a.createElement(x.a,Object.assign({className:"LoaderButton ".concat(r),disabled:o||t},c),t&&l.a.createElement(w.a,{glyph:"refresh",className:"spinning"}),t?n:a)}),H=a(54),T=a.n(H),K=(a(156),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(d.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({isLoading:!0});try{sessionStorage.setItem("loggedIn",!0),a.props.userHasAuthenticated(!0),a.props.history.push("/maintabview")}catch(n){alert(n.message),a.setState({isLoading:!1})}case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,email:"",password:""},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return l.a.createElement("div",{className:"Login"},l.a.createElement(A.a,{className:"center",src:T.a,responsive:!0}),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(R.a,{controlId:"email",bsSize:"large"},l.a.createElement(D.a,null,"Email"),l.a.createElement(I.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement(R.a,{controlId:"password",bsSize:"large"},l.a.createElement(D.a,null,"Password"),l.a.createElement(I.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),l.a.createElement(P,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Login",loadingText:"Logging in\u2026"})))}}]),t}(n.Component)),F=a(245),B=a(55),M=a.n(B),z=(a(157),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(){var e=Object(d.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{console.log(a.state.hospital),a.props.history.push({pathname:"/patientsearchresults",state:{hospital:a.state.hospital,searchtype:a.getSearchType(),value:a.state.value}})}catch(n){alert(n.message),a.setState({isLoading:!1})}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeList=function(e){a.setState({hospital:a.inputRef.value})},a.onChangeListSystems=function(e){a.setState({system:a.inputRef.value})},a.onSearchChangeSetPatient=function(e){a.setState({patientIdchecked:!0})},a.onSearchChangeSetID=function(e){a.setState({patientIdchecked:!1})},a.state={isLoading:!1,hospital:"All",system:"",patientIdchecked:!0,value:void 0},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return!0}},{key:"getSearchType",value:function(){return this.state.patientIdchecked?"patient":"Id"}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"MainSearch"},l.a.createElement(A.a,{className:"center",src:M.a,responsive:!0}),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(R.a,{controlId:"formControlsSelect1",bsSize:"large"},l.a.createElement(D.a,null,"Systems"),l.a.createElement(I.a,{componentClass:"select",placeholder:"HIS",inputRef:function(e){},onChange:this.onChangeListSystems},l.a.createElement("option",{value:"HIS"},"HIS"),l.a.createElement("option",{value:"Pharmacy"},"Pharmacy"),l.a.createElement("option",{value:"HPRS"},"HPRS"),l.a.createElement("option",{value:"SANBS"},"SANBS"),l.a.createElement("option",{value:"NHLS"},"NHLS"),l.a.createElement("option",{value:"PACS"},"PACS"),l.a.createElement("option",{value:"Mental Health"},"Mental Health"))),l.a.createElement(R.a,{controlId:"formControlsSelect2",bsSize:"large"},l.a.createElement(D.a,null,"Hospital"),l.a.createElement(I.a,{componentClass:"select",placeholder:"All",inputRef:function(t){e.inputRef=t},onChange:this.onChangeList},l.a.createElement("option",{value:"All"},"All"),l.a.createElement("option",{value:"Charlotte Maxeke"},"Charlotte Maxeke"),l.a.createElement("option",{value:"Cullinan"},"Cullinan"),l.a.createElement("option",{value:"Edenvale"},"Edenvale"),l.a.createElement("option",{value:"Heidelberg"},"Heidelberg"),l.a.createElement("option",{value:"Helen Joseph"},"Helen Joseph"),l.a.createElement("option",{value:"Jubilee"},"Jubilee"),l.a.createElement("option",{value:"Fare East Rand"},"Fare East Rand"),l.a.createElement("option",{value:"Kalafong"},"Kalafong"),l.a.createElement("option",{value:"Kopanong"},"Kopanong"),l.a.createElement("option",{value:"Leratong"},"Leratong"),l.a.createElement("option",{value:"Medunsa"},"Medunsa"),l.a.createElement("option",{value:"Odi"},"Odi"),l.a.createElement("option",{value:"Pholosong"},"Pholosong"),l.a.createElement("option",{value:"Pretoria West"},"Pretoria West"),l.a.createElement("option",{value:"Rahima Moosa"},"Rahima Moosa"),l.a.createElement("option",{value:"Sizwe"},"Sizwe"),l.a.createElement("option",{value:"South Rand"},"South Rand"),l.a.createElement("option",{value:"Sterkfontein"},"Sterkfontein"),l.a.createElement("option",{value:"Tara"},"Tara"),l.a.createElement("option",{value:"Tambo"},"Tambo"),l.a.createElement("option",{value:"Tembisa"},"Tembisa"),l.a.createElement("option",{value:"Tshwane"},"Tshwane"),l.a.createElement("option",{value:"Tshwane Rehab"},"Tshwane Rehab"),l.a.createElement("option",{value:"Wits Oral"},"Wits Oral"),l.a.createElement("option",{value:"Mamelodi"},"Mamelodi"),l.a.createElement("option",{value:"Yusuf Dadoo"},"Yusuf Dadoo"))),l.a.createElement(R.a,null,l.a.createElement(F.a,{name:"radioGroup",inline:!0,defaultChecked:!0,onClick:this.onSearchChangeSetPatient.bind(this)},"Patient Identifier")," ",l.a.createElement(F.a,{name:"radioGroup",inline:!0,onClick:this.onSearchChangeSetID.bind(this)},"Identity Number")," "),this.state.patientIdchecked?l.a.createElement(R.a,{controlId:"patientId",bsSize:"large"},l.a.createElement(D.a,null,"Patient ID"),l.a.createElement(I.a,{autoFocus:!0,type:"text",value:this.state.value,onChange:this.handleChange.bind(this)})):l.a.createElement(R.a,{controlId:"Id",bsSize:"large"},l.a.createElement(D.a,null,"Id Number"),l.a.createElement(I.a,{value:this.state.value,onChange:this.handleChange.bind(this),type:"number"})),l.a.createElement(P,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"find",loadingText:"searching\u2026"})))}}]),t}(n.Component)),G=Object(g.a)(z),V=(a(158),a(109)),J=a(247),W=a(248),$=a(103),Q=a.n($),Y=(a(180),a(104)),q=a.n(Y),U=a(249),X=a(253),Z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).getResidentialAddress=function(e,t){var n=a.props.details;return void 0===n?null:"patient"===t?l.a.createElement("div",{className:"addrdiv"},l.a.createElement("dl",{className:"dl-horizontal"},l.a.createElement("dt",null,"Line 1:"),l.a.createElement("dd",null,n.ResidentialAddress.Line1),l.a.createElement("dt",null,"Line 2:"),l.a.createElement("dd",null,n.ResidentialAddress.Line2),l.a.createElement("dt",null,"Line 3:"),l.a.createElement("dd",null,n.ResidentialAddress.Line3),l.a.createElement("dt",null,"Line 4:"),l.a.createElement("dd",null,n.ResidentialAddress.Line4),l.a.createElement("dt",null,"Postal Code:"),l.a.createElement("dd",null,n.ResidentialAddress.PostalCode))):l.a.createElement("div",{className:"addrdiv"},l.a.createElement("dl",{className:"dl-horizontal"},l.a.createElement("dt",null,"Name:"),l.a.createElement("dd",null,n.NextOfKin.FirstName),l.a.createElement("dt",null,"Relationship:"),l.a.createElement("dd",null,n.NextOfKin.Relationship),l.a.createElement("dt",null,"Telephone:"),l.a.createElement("dd",null,n.NextOfKin.ContactDetails.TelephoneNumber)),l.a.createElement(U.a,null,l.a.createElement(U.a.Heading,null,l.a.createElement(U.a.Title,{componentClass:"h3"},"Residential Address")),l.a.createElement(U.a.Body,null,l.a.createElement("address",null,null===n.NextOfKin.ContactDetails.ResidentialAddress.Line1?null:n.NextOfKin.ContactDetails.ResidentialAddress.Line1," ",l.a.createElement("br",null),null===n.NextOfKin.ContactDetails.ResidentialAddress.Line2?null:n.NextOfKin.ContactDetails.ResidentialAddress.Line2," ",l.a.createElement("br",null),null===n.NextOfKin.ContactDetails.ResidentialAddress.Line3?null:n.NextOfKin.ContactDetails.ResidentialAddress.Line3," ",l.a.createElement("br",null),null===n.NextOfKin.ContactDetails.ResidentialAddress.Line4?null:n.NextOfKin.ContactDetails.ResidentialAddress.Line4))))},a.getPatientNextOfKinName=function(){},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.getResidentialAddress(this.props.details,"patient"),t=this.getResidentialAddress(this.props.details,"nok");return l.a.createElement("div",{className:"contactdetails"},l.a.createElement(X.a,{accordion:!0,id:"accordion"},l.a.createElement(U.a,{eventKey:"1"},l.a.createElement(U.a.Heading,null,l.a.createElement(U.a.Title,{toggle:!0},"Residential Address")),l.a.createElement(U.a.Body,{collapsible:!0},e)),l.a.createElement(U.a,{eventKey:"2"},l.a.createElement(U.a.Heading,null,l.a.createElement(U.a.Title,{toggle:!0},"Next of Kin")),l.a.createElement(U.a.Body,{collapsible:!0},t))))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).defaultValue=function(){return l.a.createElement("div",{className:"default center"},"No data to display")},a.getValues=function(){return l.a.createElement("div",{className:"persondetails"},l.a.createElement("dl",{className:"dl-horizontal"},l.a.createElement("dt",null,"Title"),l.a.createElement("dd",null,a.props.details.Title),l.a.createElement("dt",null,"FirstName"),l.a.createElement("dd",null,a.props.details.FirstName),l.a.createElement("dt",null,"LastName"),l.a.createElement("dd",null,a.props.details.LastName),l.a.createElement("dt",null,"MiddeName"),l.a.createElement("dd",null,a.props.details.MiddeName),l.a.createElement("dt",null,"RSA ID Number"),l.a.createElement("dd",null,a.props.details.ID),l.a.createElement("dt",null,"BirthDate"),l.a.createElement("dd",null,a.props.details.BirthDate),l.a.createElement("dt",null,"BloodType"),l.a.createElement("dd",null,a.props.details.BloodType),l.a.createElement("dt",null,"Age"),l.a.createElement("dd",null,a.props.details.Age),l.a.createElement("dt",null,"DeathDate"),l.a.createElement("dd",null,a.props.details.DeathDate),l.a.createElement("dt",null,"Race"),l.a.createElement("dd",null,a.props.details.Race),l.a.createElement("dt",null,"Gender"),l.a.createElement("dd",null,a.props.details.Gender),l.a.createElement("dt",null,"Religion"),l.a.createElement("dd",null,a.props.details.Religion),l.a.createElement("dt",null,"Language"),l.a.createElement("dd",null,a.props.details.Language),l.a.createElement("dt",null,"MaritalStatus"),l.a.createElement("dd",null,a.props.details.MaritalStatus),l.a.createElement("dt",null,"Nationality"),l.a.createElement("dd",null,a.props.details.Nationality)))},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){console.log(this.props);var e=""===this.props.details?this.defaultValue():this.getValues();return l.a.createElement("div",null,e)}}]),t}(n.Component),ee=a(246),te=a(252),ae=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(ee.a,{defaultActiveKey:1,id:"maintabview"},l.a.createElement(te.a,{eventKey:1,title:"Personal Details"},l.a.createElement(_,{details:this.props.selected})),l.a.createElement(te.a,{eventKey:2,title:"Contact Details"},l.a.createElement(Z,{details:this.props.selected.ContactDetails})),l.a.createElement(te.a,{eventKey:3,title:"Health Info"},"health information"))}}]),t}(n.Component),ne=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={data:[],isLoading:!1,isSelected:""},e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark(function e(){var t,a,n,l,i,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),l="",t=this.props.datalist.searchtype,a=this.props.datalist.value,n=this.props.datalist.hospital,l="All"===n?"patient"===t?"http://10.32.60.74:7004/gdoh-patient-profile-service/PSQueryByIdentifierOnlyRS/patientidentifier?Identifier=".concat(a):"http://10.32.60.74:7004/gdoh-patient-profile-service/PSQueryByIDNumberOnlyRS/patientidentifier?ID=".concat(a):"patient"===t?"http://10.32.60.74:7004/gdoh-patient-profile-service/PatientIdentifierRS/patientidentifier?Identifier=".concat(a,"&Hospital=").concat(n):"http://10.32.60.74:7004/gdoh-patient-profile-service/PatientIdRS/patientidhospital?ID=".concat(a,"&Hospital=").concat(n),e.prev=6,e.next=9,fetch(l,{mode:"cors",method:"GET",headers:{accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Connection:"Keep-Alive"}});case 9:return i=e.sent,e.next=12,i.json();case 12:r=e.sent,200===i.status&&null!=r.PatientProfile?(s=r.PatientProfile.map(function(e){return{id:e.Identifier.$,ID:e.ID.$,Title:e.Title,FirstName:e.FirstName,LastName:e.LastName,Gender:e.Gender,BirthDate:e.BirthDate,Nationality:e.Nationality,hospital:e["@hospital"],LastVisitDate:e.LastVisitDate,LastVisitClassification:e.LastVisitClassification,ContactDetails:{ResidentialAddress:{Line1:e.ContactDetails.ResidentialAddress.Line1,Line2:e.ContactDetails.ResidentialAddress.Line2,line3:e.ContactDetails.ResidentialAddress.Line3,Line4:e.ContactDetails.ResidentialAddress.Line4,PostalCode:e.ContactDetails.ResidentialAddress.PostalCode},NextOfKin:e.NextOfKin},HealthInfo:{Allergies:e.Allergies}}}),this.setState({data:s,isLoading:!1})):this.setState({isLoading:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),this.setState({isLoading:!1});case 19:case"end":return e.stop()}},e,this,[[6,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={mode:"radio",clickToSelect:!0,onSelect:function(t,a,n,l){e.setState({isSelected:t})},hideSelectColumn:!1};return l.a.createElement("div",{className:"maindiv"},this.state.isLoading?l.a.createElement(Q.a,{type:"Circles",color:"#00BFFF",height:"200",width:"200",className:"center"}):l.a.createElement(V.a,null,l.a.createElement(J.a,{className:"show-grid"},l.a.createElement(W.a,{md:6,mdPush:6},l.a.createElement("div",null,l.a.createElement("span",null),l.a.createElement(ae,{selected:this.state.isSelected}))),l.a.createElement(W.a,{md:6,mdPull:6},l.a.createElement(q.a,{striped:!0,hover:!0,selectRow:t,keyField:"hospital",data:this.state.data,columns:[{dataField:"id",text:"Patient ID"},{dataField:"ID",text:"ID"},{dataField:"hospital",text:"hospital",sort:!0}]})))))}}]),t}(n.Component),le=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"patients"},l.a.createElement(A.a,{className:"imagesize center",src:M.a,responsive:!0}),l.a.createElement("h2",null,"Search Results"),l.a.createElement(ne,{datalist:this.props.location.state}))}}]),t}(n.Component),ie=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(ee.a,{defaultActiveKey:1,id:"maintabview"},l.a.createElement(te.a,{eventKey:1,title:"Phase 1"},l.a.createElement(G,null)),l.a.createElement(te.a,{eventKey:2,title:"Phase 2",disabled:!0},"Phase 2"),l.a.createElement(te.a,{eventKey:3,title:"Phase 3",disabled:!0},"Phase 3"))}}]),t}(n.Component),re=function(e){var t=e.component,a=e.props,n=Object(k.a)(e,["component","props"]);return l.a.createElement(C.a,Object.assign({},n,{render:function(e){return l.a.createElement(t,Object.assign({},e,a))}}))},se=function(e){var t=e.childProps;return l.a.createElement(O.a,null,l.a.createElement(re,{path:"/",exact:!0,component:L,props:t}),l.a.createElement(re,{path:"/login",exact:!0,component:K,props:t}),l.a.createElement(re,{path:"/mainsearch",exact:!0,component:G,props:t}),l.a.createElement(re,{path:"/patientsearchresults",exact:!0,component:le,props:t}),l.a.createElement(re,{path:"/maintabview",exact:!0,component:ie,props:t}),l.a.createElement(C.a,{component:N}))},oe=(a(238),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(e){a.userHasAuthenticated(!1),a.props.history.push("/login"),sessionStorage.clear()},a.state={isAuthenticated:!1,isAuthenticating:!0},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{"true"===sessionStorage.getItem("loggedIn")?this.userHasAuthenticated(!0):this.userHasAuthenticated(!1)}catch(t){"No current user"!==t&&alert(t)}this.setState({isAuthenticating:!1});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated};return!this.state.isAuthenticating&&l.a.createElement("div",{className:"App container"},l.a.createElement(v.a,{fluid:!0,collapseOnSelect:!0},l.a.createElement(v.a.Header,null,l.a.createElement(v.a.Brand,null,l.a.createElement(f.a,{to:"/"},l.a.createElement("img",{src:T.a,alt:"",style:{width:100,marginTop:-7}}),"Gauteng Department of Health")),l.a.createElement(v.a.Toggle,null)),l.a.createElement(v.a.Collapse,null,l.a.createElement(b.a,{pullRight:!0},this.state.isAuthenticated?l.a.createElement(S.a,{onClick:this.handleLogout},"Logout"):l.a.createElement(n.Fragment,null,l.a.createElement(y.LinkContainer,{to:"/signup"},l.a.createElement(S.a,null,"Signup")),l.a.createElement(y.LinkContainer,{to:"/login"},l.a.createElement(S.a,null,"Login")))))),l.a.createElement(se,{childProps:e}))}}]),t}(n.Component)),ce=Object(g.a)(oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(s.a,{basename:"/gdoh"},l.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){e.exports=a.p+"static/media/GPG-Logo.278d9f24.png"},55:function(e,t,a){e.exports=a.p+"static/media/find.8b689b8f.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.fe3b495d.chunk.js.map